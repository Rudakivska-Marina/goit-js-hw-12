{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nexport const perPage = 15;\n\n  axios.defaults.baseURL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const KEY = '42798997-7eb979f96087e0185c9def0a6';\n  \n  export async function getPicture(value, page) {\n  const result =  await axios.get(`${END_POINT}`, {params: {\n    key: KEY,\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: perPage,\n    page\n  }})\n  return result\n}","export const list = document.querySelector(\".gallery\")\n\nexport function createMarkup(array){\n    return array.map(element => `<li class=\"gallery-item\">\n    <a href=\"${element.largeImageURL}\" class=\"gallery-link\">\n    <img class=\"gallery-img\" src=\"${element.webformatURL}\" alt=\"${element.tags}\" loading=\"lazy\"/>\n    </a>\n    <div class=\"gallery-container\">\n    <p class=\"gallery-text\">Likes<span>${element.likes}</span></p>\n      <p class=\"gallery-text\">Views<span>${element.views}</span></p>\n      <p class=\"gallery-text\">Comments<span>${element.comments}</span></p>\n      <p class=\"gallery-text\">Downloads<span>${element.downloads}</span></p>\n    </div>\n  </li>`).join(' ')\n}\n  \n  export function rendering(array){\n    list.insertAdjacentHTML(\"beforeend\", createMarkup(array))\n}","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nimport {getPicture, perPage} from \"./js/pixabay-api\"\nimport {rendering} from \"./js/render-functions\";\nimport {list} from \"./js/render-functions\";\nconst form = document.querySelector(\"form\");\nconst input = document.querySelector(\"input\");\nconst PaddingButton = document.querySelector(\".padding-button\");\nconst loader = document.querySelector(\".loader\");\nlet page = 1;\n\nfunction scrollOn(element){\n  const value = element.getBoundingClientRect();\n  const scrollHeight = value.height*2;\n  window.scrollBy({\n    top: scrollHeight,\n    behavior: \"smooth\"\n  });\n}\n\nfunction showLoader() {\n  loader.classList.remove(\"is-hidden\");\n  }\n  function hideLoader() {\n    loader.classList.add(\"is-hidden\");\n    }\n    function showButton() {\n      PaddingButton.classList.remove(\"is-hidden\");\n      }\n      function hideButton() {\n        PaddingButton.classList.add(\"is-hidden\");\n        }\n        function theEnd(length, page){\n          if(length < page){\n            iziToast.warning({\n              message: 'We are sorry, but youve reached the end of search results.!'\n            }); \n            hideButton();\n        }}\n\nasync function forListener(element){\n  element.preventDefault();\n  page = 1;\n  showLoader();\n  list.innerHTML = \"\";\n  const inputValue = form.elements.field.value;\n if(inputValue){ \n  try{ \n   const result = await getPicture(inputValue, page);\n    if(result.data.total !== 0){\n    rendering(result.data.hits);\n    modal.refresh();\n    showButton();\n    theEnd(result.data.hits.length, perPage)\n  }else{\n  iziToast.warning({\n    message: 'Sorry, there are no images matching your search query. Please try again!'\n  })\n      \ninput.value = \"\"\nhideButton();\n    }\n  }\n   \n catch(error){\n      iziToast.warning({\n        message: 'Ups, something wrong bad. Please try again!'\n    })  \n     }\n     finally{hideLoader()} \n}else{iziToast.warning({\n  message: 'Please enter the name of the picture!'\n})}}\n\nasync function forPaddingButton(element){\n page++;\n  element.preventDefault();\n  showLoader();\n  const inputValue = form.elements.field.value;\n  try{ \n    const result = await getPicture(inputValue, page);\n    rendering(result.data.hits);\n    modal.refresh();\n    const item = document.querySelector(\".gallery-item\");\nscrollOn(item);\ntheEnd(result.data.hits.length, perPage)}\ncatch(error){\n  iziToast.warning({\n    message: 'Ups, something wrong bad. Please try again!'\n})}  \nfinally{hideLoader()}  }\n\nform.addEventListener(\"submit\", forListener);\nPaddingButton.addEventListener(\"click\", forPaddingButton); \nconst modal = new SimpleLightbox('.gallery a', {captionsData: 'alt', captionDelay: '250'});"],"names":["perPage","axios","END_POINT","KEY","getPicture","value","page","list","createMarkup","array","element","rendering","form","input","PaddingButton","loader","scrollOn","scrollHeight","showLoader","hideLoader","showButton","hideButton","theEnd","length","iziToast","forListener","inputValue","result","modal","forPaddingButton","item","SimpleLightbox"],"mappings":"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"}